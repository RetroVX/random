{"version":3,"file":"random.mjs","sources":["../src/alea.js","../src/random.js"],"sourcesContent":["/**\r\n * Alea\r\n * From http://baagoe.com/en/RandomMusings/javascript/\r\n * Johannes BaagÃ¸e <baagoe@baagoe.com>, 2010\r\n */\r\n\r\nfunction Mash() {\r\n    var n = 0xefc8249d;\r\n\r\n    var mash = function (data) {\r\n        data = data.toString();\r\n        for (var i = 0; i < data.length; i++) {\r\n            n += data.charCodeAt(i);\r\n            var h = 0.02519603282416938 * n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            h *= n;\r\n            n = h >>> 0;\r\n            h -= n;\r\n            n += h * 0x100000000; // 2^32\r\n        }\r\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\r\n    };\r\n\r\n    mash.version = 'Mash 0.9';\r\n    return mash;\r\n}\r\n\r\n// From http://baagoe.com/en/RandomMusings/javascript/\r\nexport function Alea() {\r\n    return (function (args) {\r\n        // Johannes BaagÃ¸e <baagoe@baagoe.com>, 2010\r\n        var s0 = 0;\r\n        var s1 = 0;\r\n        var s2 = 0;\r\n        var c = 1;\r\n\r\n        if (args.length == 0) {\r\n            args = [+new Date()];\r\n        }\r\n        var mash = Mash();\r\n        s0 = mash(' ');\r\n        s1 = mash(' ');\r\n        s2 = mash(' ');\r\n\r\n        for (var i = 0; i < args.length; i++) {\r\n            s0 -= mash(args[i]);\r\n            if (s0 < 0) {\r\n                s0 += 1;\r\n            }\r\n            s1 -= mash(args[i]);\r\n            if (s1 < 0) {\r\n                s1 += 1;\r\n            }\r\n            s2 -= mash(args[i]);\r\n            if (s2 < 0) {\r\n                s2 += 1;\r\n            }\r\n        }\r\n        mash = null;\r\n\r\n        var random = function () {\r\n            var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\r\n            s0 = s1;\r\n            s1 = s2;\r\n            return s2 = t - (c = t | 0);\r\n        };\r\n        random.uint32 = function () {\r\n            return random() * 0x100000000; // 2^32\r\n        };\r\n        random.fract53 = function () {\r\n            return random() +\r\n                (random() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\r\n        };\r\n        random.version = 'Alea 0.9';\r\n        random.args = args;\r\n        return random;\r\n\r\n    }(Array.prototype.slice.call(arguments)));\r\n};\r\n","import { Alea } from \"./alea.js\";\r\n\r\n/**\r\n * @author Conor Irwin <https://github.com/RetroVX> \r\n * @license {@link http://opensource.org/licenses/MIT|MIT License}\r\n * @classdesc\r\n * A basic random utility generator using alea for seedable randomness  \r\n * Credit Alea: \r\n * From http://baagoe.com/en/RandomMusings/javascript/\r\n * Johannes BaagÃ¸e <baagoe@baagoe.com>, 2010  \r\n * @class Random\r\n * @version 1.3.0\r\n * @example\r\n * const random = new Random('mySeed');\r\n * random.number(); \r\n * -> 42\r\n * // instead of Math.random()\r\n * random.gen();\r\n * -> 0.9401234467513859\r\n */\r\nexport default class Random {\r\n\r\n    constructor(seed) {\r\n\r\n        /**\r\n         * the generator that creates random numbers.\r\n         * use in place of Math.random()\r\n         * @type method\r\n         * @name Random.gen\r\n         * @example\r\n         * random.gen() -> 0.9401234467513859\r\n         */\r\n        this.gen = null;\r\n\r\n\r\n        /**\r\n         * The seed for alea to use\r\n         * @name Random.seed\r\n         */\r\n        this.seed = null;\r\n        \r\n\r\n        // Create the generator\r\n        this.newGenerator(seed);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Create a new Alea generator with a new seed\r\n     * @method Random.newGenerator\r\n     * @param {*} seed - a number or string to use as the seed\r\n     */\r\n    newGenerator(seed) {        \r\n        this.seed = seed || new Date().getTime();\r\n        this.gen = new Alea(this.seed);\r\n    }\r\n\r\n\r\n    /**\r\n     * Return a random number depending on the max number inputted. \r\n     * If the max argument is undefined, max = 100.\r\n     * @param {number} max - the max number to be able to generate\r\n     * @returns {number}\r\n     * @example\r\n     * random.number(); -> 56\r\n     * random.number(50000) -> 3741\r\n     */\r\n    number(max) {\r\n        if(max === undefined || max === null) { max = 100; }\r\n\r\n        return Math.floor(this.gen() * Math.floor(max));\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a number that is between the min and max arguments passed in\r\n     * @method Random.between\r\n     * @param {number} min - the min number\r\n     * @param {number} max - the max number\r\n     * @returns {number}\r\n     * @example \r\n     * random.between(1, 25) -> 17\r\n     */\r\n    between(min, max) { \r\n        return Math.floor(this.gen() * (max - min + 1)) + min;\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a boolean depending on if the percentChance check is passed\r\n     * @param {number} percentChance - the number (percent out of 100)\r\n     * @return {boolean}\r\n     * @example\r\n     * random.chance(50) -> 50% chance of happening\r\n     * random.chance(1) -> 1% chance of happening\r\n     */\r\n    chance(percentChance) {\r\n        return !!percentChance && this.gen() * 100 <= percentChance;\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a random item from an array\r\n     * @method Random.itemFromArray\r\n     * @param {array} userArray - the array to pass in\r\n     * @returns {*} item from array\r\n     * @example\r\n     * const list = [1, 2, 3, 4, 5];\r\n     * const randomFromList = random.itemFromArray(list);\r\n     * -> 2\r\n     * const list2 = [{key: 'hello', something: 'world'}, {key: 'world', something: 'yes'}];\r\n     * const randomFromList2 = random.itemFromArray(list2);\r\n     * -> {key: 'hello', something: 'world'}\r\n     */\r\n    itemFromArray(userArray) {\r\n        return userArray[Math.floor(this.gen() * userArray.length)];\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a random key/value pair from an object\r\n     * @method Random.entryFromObject\r\n     * @param {object} userObject - the object to pass in\r\n     * @returns {array} Returns an array with the random key and value pair\r\n     * @example\r\n     * const myObject = {\r\n     *     prop: 'hello',\r\n     *     prop2: 'world',\r\n     *     prop3: 42\r\n     * }\r\n     * const randomFromObject = random.entryFromObject(myObject);\r\n     * -> ['prop2', 'world']\r\n     */\r\n    entryFromObject(userObject) {\r\n        const entries = Object.entries(userObject);\r\n        const randomProp = this.itemFromArray(entries);\r\n\r\n        return randomProp;\r\n    }\r\n\r\n\r\n    /**\r\n     * Returns a random key from an object\r\n     * @method Random.keyFromObject\r\n     * @param {object} userObject - the object to pass in\r\n     * @returns {string} Returns a string with the random key\r\n     * @example\r\n     * const myObject = {\r\n     *     prop: 'hello',\r\n     *     prop2: 'world',\r\n     *     prop3: 42\r\n     * }\r\n     * const randomKeyFromObject = random.keyFromObject(myObject);\r\n     * -> 'prop3'\r\n     */\r\n    keyFromObject(userObject) {\r\n        const keys = Object.keys(userObject);\r\n        const randomKey = this.itemFromArray(keys);\r\n\r\n        return randomKey;\r\n    }\r\n}"],"names":["Mash","n","mash","data","toString","i","length","charCodeAt","h","version","Alea","args","s0","s1","s2","c","Date","random","t","uint32","fract53","Array","prototype","slice","call","arguments","Random","constructor","seed","gen","newGenerator","getTime","number","max","undefined","Math","floor","between","min","chance","percentChance","itemFromArray","userArray","entryFromObject","userObject","entries","Object","randomProp","keyFromObject","keys","randomKey"],"mappings":"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"}